# SoftDeck 사용법

## 소개

SoftDeck는 Windows용 커스텀 버튼 덱 앱입니다. 넘패드 키로 조작하며, 앱 실행 / 핫키 전송 / 미디어 제어 / 시스템 모니터링 등을 버튼 하나로 수행할 수 있습니다.

---

## 설치 및 실행

### 소스에서 실행
```bash
pip install -r requirements.txt
python main.py
```

### 빌드 (exe)
```bash
build.bat
```
빌드 완료 시 `dist/SoftDeck.exe` 생성

---

## 기본 조작

### 넘패드 키 매핑 (Num Lock OFF 상태)

넘패드 키가 3x3 버튼 그리드에 1:1 대응됩니다.

```
┌───────┬───────┬───────┐
│ Num 7 │ Num 8 │ Num 9 │  ← 1행
├───────┼───────┼───────┤
│ Num 4 │ Num 5 │ Num 6 │  ← 2행
├───────┼───────┼───────┤
│ Num 1 │ Num 2 │ Num 3 │  ← 3행
└───────┴───────┴───────┘
  Num 0 = 뒤로가기 (상위 폴더)
```

### Num Lock에 따른 동작

| Num Lock | 넘패드 키 | 창 상태 |
|----------|-----------|---------|
| OFF | 버튼 덱 조작 | 창 표시 |
| ON | 일반 숫자 입력 | 창 숨김 |

### 글로벌 핫키

- `Ctrl + \`` — 창 표시/숨기기 토글 (Num Lock 상관없이 동작)

---

## 창 조작

### 타이틀 바

| 요소 | 설명 |
|------|------|
| **☰ 버튼** | 좌측 폴더 트리 패널 표시/숨기기 |
| **투명도 슬라이더** | 창 투명도 조절 (20%~100%) |
| **▼ 버튼** | 트레이로 최소화 |
| **우클릭** | Settings / Export Config / Import Config |

### 창 이동 및 크기 조절

- **이동**: 타이틀 바를 드래그
- **크기 조절**: 창 가장자리를 드래그 (8방향)
- 창 위치는 자동 저장됩니다

### 시스템 트레이

트레이 아이콘 우클릭 메뉴:

- **Show** — 창 표시
- **Settings** — 설정 열기
- **Reset Position** — 창 위치 초기화 (화면 중앙 상단)
- **Quit** — 앱 종료

> 창의 X 버튼(닫기)은 종료가 아닌 트레이 최소화입니다.

---

## 버튼 설정

### 버튼 편집

버튼을 **우클릭** 하면 메뉴가 나타납니다:

- **Edit Button** — 버튼 편집 다이얼로그 열기
- **Clear Button** — 버튼 초기화
- **Copy Button** — 버튼 설정 복사
- **Paste Button** — 복사한 설정 붙여넣기

### 버튼 에디터 옵션

| 항목 | 설명 |
|------|------|
| **Label** | 버튼에 표시할 텍스트 |
| **Icon** | 아이콘 이미지 (png/jpg/svg/ico). 아이콘 위에 라벨이 표시됨 |
| **Label Color** | 라벨 글씨 색상 (hex, 예: `#ff0000`) |
| **Font Size** | 라벨 글씨 크기 (기본 15px) |

### 액션 타입

| 타입 | 설명 | 주요 파라미터 |
|------|------|---------------|
| **Launch App** | 프로그램 실행 | 경로, 인자, 작업 디렉터리 |
| **Hotkey** | 키보드 단축키 전송 | 키 조합 (예: `ctrl+c`) |
| **Text Input** | 텍스트 입력 | 텍스트, 클립보드 모드 |
| **Media Control** | 미디어/볼륨 제어 | 커맨드 선택 |
| **System Monitor** | CPU/RAM 사용률 표시 | (실시간 자동 업데이트) |
| **Navigate Folder** | 다른 폴더로 이동 | 대상 폴더 선택 |
| **Open URL** | 웹사이트 열기 | URL (예: `https://google.com`) |
| **Macro** | 여러 동작 순차 실행 | 단계별 핫키/텍스트/딜레이 |

#### Media Control 커맨드

| 커맨드 | 기능 |
|--------|------|
| Play / Pause | 재생/일시정지 |
| Next Track | 다음 곡 |
| Previous Track | 이전 곡 |
| Stop | 정지 |
| Volume Up | 볼륨 업 |
| Volume Down | 볼륨 다운 |
| Mute / Unmute | 음소거 토글 |

#### Macro 사용법

여러 동작을 순서대로 실행합니다. 단계 종류:

- **Hotkey** — 키 조합 전송
- **Text Input** — 텍스트 입력
- **Delay** — 대기 시간 (ms)

단계 추가 후 ▲▼ 버튼으로 순서 변경 가능

---

## 폴더 관리

버튼들을 폴더 단위로 정리할 수 있습니다. 폴더는 무한 중첩 가능합니다.

### 폴더 트리 (좌측 패널)

- **클릭** — 해당 폴더의 버튼 표시
- **드래그 앤 드롭** — 폴더 순서/위치 변경
- **우클릭** 메뉴:
  - New Sub-Folder — 하위 폴더 생성
  - Rename — 이름 변경
  - Edit (Mapped Apps) — 자동 전환용 앱 매핑
  - Delete — 폴더 삭제

### 자동 폴더 전환

폴더에 앱을 매핑하면, 해당 앱이 포커스될 때 자동으로 해당 폴더로 전환됩니다.

1. 폴더 우클릭 → **Edit (Mapped Apps)**
2. 연결할 앱 프로세스 이름 추가 (예: `chrome.exe`)
3. Settings에서 **Auto-switch folders based on active app** 활성화

---

## 설정 (Settings)

타이틀 바 우클릭 → Settings

| 항목 | 설명 | 기본값 |
|------|------|--------|
| **Button Size** | 버튼 크기 | 100px |
| **Button Spacing** | 버튼 간격 | 8px |
| **Auto-switch** | 활성 앱 기반 폴더 자동 전환 | ON |
| **Always on top** | 항상 위에 표시 | ON |
| **Theme** | 테마 | Dark |
| **Opacity** | 창 투명도 | 100% |

---

## 설정 내보내기 / 가져오기

타이틀 바 우클릭:

- **Export Config** — 현재 설정을 JSON 파일로 저장
- **Import Config** — JSON 파일에서 설정 불러오기 (기존 설정 덮어쓰기)

설정 파일 위치: `%APPDATA%/SoftDeck/config.json`

---

## 기본 매핑 구성

### Root (메인)

```
┌────────┬────────┬────────┐
│ VOL -  │  MUTE  │ VOL +  │
├────────┼────────┼────────┤
│  PREV  │  PLAY  │  NEXT  │
├────────┼────────┼────────┤
│  CPU   │  RAM   │  Apps →│
└────────┴────────┴────────┘
```

### Apps 폴더

```
┌────────────┬────────────┬────────────┐
│ Calculator │  Notepad   │  Explorer  │
├────────────┼────────────┼────────────┤
│  Task Mgr  │    Snip    │    CMD     │
├────────────┼────────────┼────────────┤
│Shortcuts → │  YouTube   │   Google   │
└────────────┴────────────┴────────────┘
```

### Shortcuts 폴더

```
┌────────────┬────────────┬────────────┐
│    Copy    │   Paste    │    Undo    │
├────────────┼────────────┼────────────┤
│    Cut     │ Select All │    Redo    │
├────────────┼────────────┼────────────┤
│    Save    │ Screenshot │  Lock PC   │
└────────────┴────────────┴────────────┘
```

> `Num 0`으로 상위 폴더로 돌아갈 수 있습니다.

---

## 게임 중 사용

| 게임 모드 | 키보드 조작 | 창 표시 |
|-----------|-------------|---------|
| 보더리스 창모드 | O | O |
| 전체화면 (Exclusive) | O | X |

보더리스 창모드에서 완벽 동작합니다. 전체화면에서는 넘패드/핫키만 동작하고 창은 보이지 않습니다.

---

## 팁

- 넘패드가 없는 키보드에서는 마우스로 버튼을 직접 클릭하세요
- `WS_EX_NOACTIVATE` 플래그로 버튼 클릭 시 다른 앱의 포커스를 뺏지 않습니다
- 다이얼로그(설정/편집) 열림 중에는 넘패드가 일반 숫자 입력으로 동작합니다
- 버튼 Copy/Paste로 같은 설정을 여러 위치에 빠르게 복제할 수 있습니다
